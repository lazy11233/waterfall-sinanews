# 新浪瀑布流新闻



> [预览地址](http://book.jirengu.com/jirengu-inc/js-works/waterfall/waterfull-lazyload-ajax.html)


### 懒加载原理
判断一个元素是否出现在用户的视野中，如果没有出现，就不让浏览器请求某些资源。


### 瀑布流原理
* 瀑布流布局要求要进行布置的元素等宽，然后计算元素的宽度与浏览器宽度之比，得到需要布置的列数。
* 创建一个数组，长度为列数，里面的值为已布置元素的总高度（最开始为0）
* 然后将未布置的元素依次布置到高度最小的那一列，就得到了瀑布流布局。


### 实现原理
宏观思路：
- 懒加载
- ajax
- 瀑布流

1. 获取数据
    1. 获取10条数据
    2. 当条件触发（如页面滚动到底部）时再获取10条
2. 把数据拼装成DOM放到页面
3. 使用瀑布流去摆放 DOM 位置
